const callCounter = require('./call_counter.js');

function multiply(x, y) {
  callCounter();
  return x * y;
}

function divide(x, y) {
  callCounter();
  return x / y;
}

function fibo(count) {
  callCounter();
  return privateFibo(count);
}

function privateFibo(count, counter = 1, first = 1, second = 1) {
  // If count is 0, return 0 immediately.
  if (count === 0) return 0;
  // When the counter reaches the desired count, return the current Fibonacci number.
  if (counter === count) return second;
  // Recursively calculate the next Fibonacci number.
  return privateFibo(count, counter + 1, second, first + second);
}

module.exports = {
  multiplication: multiply,
  division: divide,
  fibo: fibo
};
